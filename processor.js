const fs = require('fs');
const FormData = require('form-data');

const users = [
"9920304283",
"9768380610",
"9892568611",
"9221131446",
"8169430681",
"9324044183",
"9167515007",
"8097969215",
"9004935131",
"9004069006",
"9892548227",
"9867919272",
"8390030543",
"8928917800",
"9987478251",
"9326783913",
"9930505077",
"9867999355",
"9819068652",
"9320537421",
"9022233445",
"9892092854",
"7507792787",
"98921 79683",
"9223377920",
"9820715794",
"9819828911",
"9665184661",
"9221467570",
"8104575611",
"9819412378",
"9082769229",
"9702219501",
"8108755108",
"9702353330",
"9930391650",
"9833393841",
"9324595104",
"9324028829",
"9769258096",
"82914 00916",
"9145172241",
"8169462973",
"9967851949",
"9892326162",
"9323050614",
"9004564946",
"9819800937",
"7977501995",
"8169860119",
"9833775393",
"9967212837",
"8692036377",
"9769274717",
"9167161124",
"9867631873",
"9867588806",
"9833422451",
"9920727099",
"9892924214",
"9987377934",
"9892119294",
"9004518738",
"9653346287",
"9833393842",
"9892747749",
"9892763781",
"9960540129",
"9821780067",
"9987671143",
"8169760410",
"9082881861",
"9867864032",
"9653345285",
"9167069403",
"9833544626",
"9702633337",
"9323215431",
"7977412900",
"9082661371",
"8169318976",
"8369376636",
"9892657715",
"9892121540",
"9892027291",
"9833322057",
"9869145512",
"92233242222",
"9167123992",
"8237947775",
"9773322591",
"9819923863",
"9821250092",
"9819899167",
"7738661238",
"9930045988",
"9773691744",
"8097425205",
"9004535375",
"9221068644",
"9769840239",
"9819553464",
"8080486084",
"9870563631",
"7738634557",
"9594511673",
"7718993885",
"8898803179",
"9224260352",
"993097047",
"7045700094",
"9664853955",
"9920766826",
"9322837848",
"9819975274",
"9322770812",
"9821059228",
"7506462945",
"9773403667",
"9594171463",
"9967432408",
"8451879564",
"9867978412",
"9920528139",
"8108973392",
"9820539676",
"9920070907",
"8169341772",
"9869753683",
"9892757063",
"9930626973",
"9821255002",
"8451821011",
"8451020991",
"9619433961",
"9594083714",
"9819810703",
"9821788007",
"7045471508",
"9820685066",
"9867412236",
"8657841708",
"9821373427",
"8830362868",
"8655574161",
"9820929087",
"9833243691",
"9820338463",
"9920038201",
"9769092157",
"9619334209",
"9819703513",
"8691915011",
"9892124943",
"8928460309",
"8080492141",
"7666963323",
"9324168977",
"9768631793",
"9892421729",
"9833866495",
"9221245023",
"8976184295",
"8850599533",
"9594197267",
"8108794623",
"9892678597",
"8976101186",
"8169441256",
"9819032250",
"8369945910",
"9892312503",
"8652006079",
"9930182623",
"9029641990",
"9004282023",
"9167450435",
"8879416908",
"9867371449",
"9004638930",
"9987941267",
"9594431437",
"9892168387",
"9819047872",
"9819087277",
"9820796580",
"9819188532",
"8655447790",
"9892707261",
"9664183543",
"9232505340",
"9324745698",
"8108851892",
"9152014453",
"7977296720",
"9702404832",
"9767630415",
"9702295277",
"9820388117",
"7039880894",
"8424821610",
"9987258568",
"9096918755",
"9022389885",
"9702433556",
"9664636727",
"8080211637",
"8169483829",
"9920117581",
"9967594185",
"9321702777",
"8424909522",
"8108423938",
"9322595505",
"9892929487",
"9323196771",
"9594099608",
"9820464137",
"9819992674",
"8922921295",
"9320625777",
"9702350187",
"9223341828",
"9819223860",
"9833066337",
"9594433006",
]


function generateSignupData(requestParams, ctx, ee, next) {

  ctx.vars["mobile_number"] = users[Math.floor(Math.random() * users.length)];
  ctx.vars["password"] = users[Math.floor(Math.random() * users.length)];
  ctx.vars["fcm_token"] = users[Math.floor(Math.random() * users.length)];
  ctx.vars["member_id"] = Math.floor(Math.random() * 100);

  return next();
}


// function addMultipartFormData(requestParams, context, ee, next) {
//   const form = new FormData();
//   form.append('upload', fs.createReadStream(__dirname + '/test-image.jpeg'));
//   requestParams.body = form;
//   return next(); 
// }

function setupMultipartFormData(requestParams, context, ee, next) {
  const form = new FormData();
  form.append('upload', fs.createReadStream(__dirname + '/test-image.jpeg'));
  requestParams.body = form;
  return next();
}
 
module.exports = {
  generateSignupData,
  setupMultipartFormData,
};